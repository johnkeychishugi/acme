{% extends 'layouts/base.html' %}

{% block title %}Blog{% endblock %}

{% block content %}
    <h2>Blog ({{ posts|length }} Posts)</h2>
    <ul>
        {% for post in posts  %}
            <article>
                <h2><a href="{% url 'blog:show' post.id %}">#{{ post.id }}-{{ post.title|upper }}</a></h2>
                <p>{{ post.body|truncatewords:3 }}</p>
                <p><a href="{% url 'blog:show' post.id %}">Read more</a></p>
            </article>
            {% if not forloop.last %}
            <hr>
            {% endif %}
        {% empty %}
            <p>Sorry, no post available</p>
        {% endfor %}    
    </ul>
{% endblock %}    